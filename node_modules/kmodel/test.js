
var k = require("./index.js").connect();
    User = k.load("User");

var test = function* (){

    var r = yield User.find({type:"xx"});
    console.log(r)
    
}


run(test);





function run (genFn) {
    
    var gen = genFn() 
    
    next()

    function next (er, value) { 
        if (er) return gen.throw(er)
        var continuable = gen.next(value) 

        if (continuable.done) return 
        var cbFn = continuable.value 
        cbFn(next)
    }
} 